<div class="w-full h-full bg-white">
    <div class="flex px-4 pt-6 pb-4">
        <app-search class="w-full" [searchTerm]="searchTerm" (action)="handleSearch($event)"></app-search>
        <button class="ml-2 w-16 h-10 bg-[#FFF1C7] rounded-md" (click)="showFilters()">
            <img src="../../../assets/filters.svg" *ngIf="!isOpen">
            <img src="../../../assets/filtersReverse.svg" *ngIf="isOpen">
        </button>
    </div>
    <hr>
    <div *ngIf="filtersVisible" class="m-4 p-4 shadow-lg rounded-lg">
        <form [formGroup]="filterForm" (ngSubmit)="onSubmit()" class="space-y-4">
            <div class="flex">
                <div class="w-full">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="age-min">
                        Age Minimum
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                        id="age-min" type="number" min="0" max="25" formControlName="ageMin">
                </div>
                <div class="w-full px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="age-max">
                        Age Maximum
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="age-max" type="number" min="0" max="25" formControlName="ageMax">
                </div>
            </div>
            <div class="flex space-x-4">
                <div class="flex items-center">
                    <input class="sr-only" type="radio" id="male" value="male" formControlName="sex" name="sex">
                    <label for="male"
                           class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('sex')?.value === 'male'">
                        Male
                    </label>
                </div>
                <div class="flex items-center">
                    <input class="sr-only" type="radio" id="femelle" value="female" formControlName="sex" name="sex">
                    <label for="femelle"
                           class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('sex')?.value === 'female'">
                        Femelle
                    </label>
                </div>
                <div class="flex items-center">
                    <input class="sr-only" type="radio" id="both" value="none" formControlName="sex" name="sex">
                    <label for="both"
                           class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('sex')?.value === 'none'">
                        Les deux
                    </label>
                </div>
            </div>
                <div class="w-full">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="localisation">
                        Localisation
                    </label>
                    <select class="select select-bordered w-full max-w-xs" name="localisation" id="localisation"
                        formControlName="localisation">
                        <option value="none">Tous les departements</option>
                        <option *ngFor="let departement of departements" [value]="departement.id">
                            {{ departement.departement }}
                        </option>
                    </select>
                </div>
            <div class="flex space-x-1">
                <div class="flex items-center mb-2">
                    <input class="sr-only" type="radio" id="urgent" value="1" formControlName="urgence" name="urgence">
                    <label class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('urgence')?.value === '1'">
                        Urgent
                    </label>
                </div>
                <div class="flex items-center mb-2">
                    <input class="sr-only" type="radio" id="pasUrgent" value="0" formControlName="urgence" name="urgence">
                    <label class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('urgence')?.value === '0'">
                        Pas Urgent
                    </label>
                </div>
                <div class="flex items-center mb-2">
                    <input class="sr-only" type="radio" id="none" value="none" formControlName="urgence" name="urgence">
                    <label class="text-sm cursor-pointer px-4 py-2 bg-[#D9E2F5] text-gray-800 rounded-full transition duration-300 ease-in-out hover:bg-[#AEC1E8]"
                           [class.bg-[#AEC1E8]]="filterForm.get('urgence')?.value === 'none'">
                        Peu Importe
                    </label>
                </div>
            </div>
        </form>
    </div>
    <div class="m-4">
        <p *ngIf="number >= 0"><b>{{ number }} r√©sultat(s)</b></p>
        <p *ngIf="responseMessage" class="alert alert-info">{{ responseMessage }}</p>
    </div>
    <div class="px-4 grid grid-cols-2 gap-4 pb-20 bg-white">
        <ng-container *ngFor="let cat of cats">
            <div class="mb-4">
                <app-cat [urgent]="cat.urgent" [numberOfFavorites]="cat.count" [sex]="cat.sex" [id]="cat.id"
                    [photo]="cat.photo" [name]="cat.name" [age]="cat.age" [localisation]="cat.localisation"
                    [favoris]="cat.fav" (click)="catPage(cat.id)"></app-cat>
            </div>
        </ng-container>
    </div>
</div>